# TURNS (TURN over TLS/TCP) on port 5349
# nginx stream SNI-routes turn.personahub.app:443 → this container:5349
tls-listening-port=5349

# TLS certificates for turn.personahub.app
cert=/etc/letsencrypt/live/turn.personahub.app/fullchain.pem
pkey=/etc/letsencrypt/live/turn.personahub.app/privkey.pem

# Realm and auth
realm=turn.personahub.app
user=videocall:387363fac8bd483df102843e12b05c1d9ae708af

# Server's public IP — required for relay address advertisements
external-ip=20.233.97.125

# Disable DTLS (UDP on tls-listening-port) — we only want TCP/TLS
no-dtls

# Disable plaintext UDP listeners (no listening-port set, but belt-and-suspenders)
no-udp

# Security
fingerprint
lt-cred-mech
no-multicast-peers
no-cli

# Relay port range (internal — for hairpin relay between peers on same server)
min-port=49152
max-port=65535

# Deny relay to private ranges (SSRF protection)
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Logging
log-file=stdout
verbose
