<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>EvoMeet</title>
  <meta name="theme-color" content="#0f0f1a">
  <meta name="description" content="Private video calls, anywhere">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">
  <link rel="stylesheet" href="/style.css">
</head>
<body>

  <!-- Join screen -->
  <div id="join-screen">
    <div class="logo">EvoMeet</div>
    <p class="tagline">Private video calls, anywhere</p>
    <button id="btn-join">Join Call</button>
    <p id="error-msg"></p>
  </div>

  <!-- Call screen -->
  <div id="call-screen">
    <div id="status-bar">
      <span class="status-dot" id="status-dot"></span>
      <span id="status-text">Connectingâ€¦</span>
    </div>

    <div id="video-grid" data-count="0">
      <div id="waiting-msg">
        <span>Waiting for others to joinâ€¦</span>
        <small><span id="share-link-label">Share this link:</span> <strong>https://call.personahub.app</strong></small>
      </div>
    </div>

    <div id="local-pip">
      <video id="local-video" autoplay muted playsinline></video>
    </div>

    <div id="controls">
      <button class="ctrl-btn" id="btn-mute-audio" title="Mute mic">ğŸ¤</button>
      <button class="ctrl-btn" id="btn-mute-video" title="Turn off camera">ğŸ“·</button>
      <button class="ctrl-btn" id="btn-leave" title="Leave call">Leave</button>
    </div>
  </div>

  <!-- Language switcher â€” fixed top-right, visible on all screens -->
  <div id="lang-switcher-wrap">
    <span aria-hidden="true">ğŸŒ</span>
    <select id="lang-switcher" onchange="setLocale(this.value)" aria-label="Language">
      <option value="en">English</option>
      <option value="es">EspaÃ±ol</option>
      <option value="de">Deutsch</option>
      <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
      <option value="pt">PortuguÃªs</option>
      <option value="fr">FranÃ§ais</option>
      <option value="pl">Polski</option>
    </select>
  </div>

  <!-- Stats overlay â€” toggle with ` (backtick) during a call -->
  <div id="stats-overlay" class="hidden" aria-label="WebRTC debug stats"></div>

  <script src="/i18n.js"></script>
  <script src="/app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js');
    }
  </script>
</body>
</html>
